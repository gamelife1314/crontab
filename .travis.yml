language: go

services:
  - mongodb

go:
  - "1.10.x"

before_install:
  - wget https://github.com/etcd-io/etcd/releases/download/v3.3.10/etcd-v3.3.10-linux-amd64.tar.gz
  - tar xzf etcd-v3.3.10-linux-amd64.tar.gz
  - nohup ./etcd-v3.3.10-linux-amd64/etcd &
  - go get github.com/mongodb/mongo-go-driver/mogno
  - go get github.com/mongodb/mongo-go-driver/options
  - go get github.com/sirupsen/logrus
  - go get go.etcd.io/etcd/clientv3
  - go get go.etcd.io/etcd/mvcc
  - go get gopkg.in/yaml.v2
  - go get golang.org/x/sys

script:
  - go test github.com/gamelife1314/crontab/common